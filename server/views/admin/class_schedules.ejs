<%- include('navbar')%>
<div class="admin-schedule-container">
  <div class="schedule-header">
    <h1 class="schedule-title">
      <i class="fas fa-calendar-alt"></i> Class Schedule Management
    </h1>
    <a href="/admin/addSchedule" class="btn-add">
      <i class="fas fa-plus"></i> Add New Schedule
    </a>
  </div>
  
  <div class="table-container">
    <div class="table-responsive">
      <table class="schedule-table">
        <thead>
          <tr>
            <th>ID</th>
            <th>Subject</th>
            <th>Course</th>
            <th>Time</th>
            <th>Days</th>
            <th>Instructor</th>
            <th>Availability</th>
            <th class="text-center">Actions</th>
          </tr>
        </thead>
        <tbody>
          <% for(let i = 0; i < schedule.length; i++) { %>
            <tr>
              <td data-label="ID"><span class="badge"><%= i+1 %></span></td>
              <td data-label="Subject"><%= schedule[i].subject %></td>
              <td data-label="Course" class="course-title"><%= schedule[i].heading %></td>
              <td data-label="Time"><span class="time-slot"><%= schedule[i].time_slot %></span></td>
              <td data-label="Days"><span class="days-badge"><%= schedule[i].days %></span></td>
              <td data-label="Instructor"><%= schedule[i].instructors %></td>
              <td data-label="Availability">
                <div class="availability <%- schedule[i].seats_left > 5 ? 'available' : 'limited' %>">
                  <span><%= schedule[i].seats_left %></span> seats left
                </div>
              </td>
              <td data-label="Actions" class="actions">
                <a href="editSchedule/<%= schedule[i].id %>" class="btn-action btn-edit" title="Edit">
                  <i class="fas fa-edit"></i>
                </a>
                <a href="deleteSchedule/<%= schedule[i].id %>" class="btn-action btn-delete" title="Delete">
                  <i class="fas fa-trash-alt"></i>
                </a>
              </td>
            </tr>
          <% } %>
        </tbody>
      </table>
    </div>
  </div>
  
  <% if (schedule.length === 0) { %>
    <div class="empty-state">
      <i class="fas fa-calendar-times"></i>
      <h3>No Schedule Found</h3>
      <p>Add new class schedules to get started</p>
      <a href="/admin/addSchedule" class="btn-add">
        <i class="fas fa-plus"></i> Create Schedule
      </a>
    </div>
  <% } %>
</div>
<%- include('footer')%>

<!-- Font Awesome for icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

<style>
  :root {
    --primary-color: #5f38a3;
    --secondary-color: #7c4dff;
    --success-color: #4caf50;
    --warning-color: #ff9800;
    --danger-color: #f44336;
    --light-gray: #f5f5f5;
    --medium-gray: #e0e0e0;
    --dark-gray: #333;
    --text-color: #424242;
  }

  /* Base Styles */
  .admin-schedule-container {
    max-width: 1200px;
    margin: 2rem auto;
    padding: 0 1.5rem;
    font-family: 'Roboto', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  }

  .schedule-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 2rem;
    flex-wrap: wrap;
    gap: 1rem;
  }

  .schedule-title {
    color: var(--primary-color);
    font-weight: 600;
    font-size: 1.75rem;
    margin: 0;
    display: flex;
    align-items: center;
    gap: 0.75rem;
  }

  .schedule-title i {
    font-size: 1.5rem;
  }

  .btn-add {
    background-color: var(--primary-color);
    color: white;
    padding: 0.75rem 1.5rem;
    border-radius: 6px;
    text-decoration: none;
    font-weight: 500;
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    transition: all 0.3s ease;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
  }

  .btn-add:hover {
    background-color: var(--secondary-color);
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0,0,0,0.15);
  }

  .table-container {
    background: white;
    border-radius: 10px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    overflow: hidden;
  }

  .table-responsive {
    overflow-x: auto;
  }

  .schedule-table {
    width: 100%;
    border-collapse: collapse;
    min-width: 600px;
  }

  .schedule-table th {
    background-color: var(--primary-color);
    color: white;
    font-weight: 500;
    padding: 1rem;
    text-align: left;
    position: sticky;
    top: 0;
  }

  .schedule-table td {
    padding: 1rem;
    border-bottom: 1px solid var(--medium-gray);
    color: var(--text-color);
    vertical-align: middle;
  }

  .schedule-table tr:last-child td {
    border-bottom: none;
  }

  .schedule-table tr:hover {
    background-color: rgba(95, 56, 163, 0.05);
  }

  .badge {
    display: inline-block;
    background-color: var(--light-gray);
    color: var(--primary-color);
    padding: 0.25rem 0.5rem;
    border-radius: 4px;
    font-weight: 500;
    font-size: 0.85rem;
  }

  .course-title {
    font-weight: 500;
    color: var(--dark-gray);
  }

  .time-slot {
    font-family: 'Courier New', monospace;
    font-weight: 500;
    color: var(--primary-color);
  }

  .days-badge {
    display: inline-block;
    background-color: rgba(95, 56, 163, 0.1);
    color: var(--primary-color);
    padding: 0.25rem 0.75rem;
    border-radius: 20px;
    font-size: 0.8rem;
    font-weight: 500;
  }

  .availability {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 0.75rem;
    border-radius: 20px;
    font-size: 0.85rem;
    font-weight: 500;
  }

  .availability.available {
    background-color: rgba(76, 175, 80, 0.1);
    color: var(--success-color);
  }

  .availability.limited {
    background-color: rgba(244, 67, 54, 0.1);
    color: var(--danger-color);
  }

  .actions {
    display: flex;
    gap: 0.5rem;
    justify-content: center;
  }

  .btn-action {
    width: 36px;
    height: 36px;
    border-radius: 50%;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    color: white;
    transition: all 0.3s ease;
  }

  .btn-edit {
    background-color: var(--warning-color);
  }

  .btn-edit:hover {
    background-color: #e68a00;
    transform: scale(1.1);
  }

  .btn-delete {
    background-color: var(--danger-color);
  }

  .btn-delete:hover {
    background-color: #d32f2f;
    transform: scale(1.1);
  }

  .empty-state {
    text-align: center;
    padding: 3rem 1rem;
    background: white;
    border-radius: 10px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
  }

  .empty-state i {
    font-size: 3rem;
    color: var(--medium-gray);
    margin-bottom: 1rem;
  }

  .empty-state h3 {
    color: var(--dark-gray);
    margin-bottom: 0.5rem;
  }

  .empty-state p {
    color: var(--text-color);
    margin-bottom: 1.5rem;
  }

  /* Responsive Styles */
  @media (max-width: 992px) {
    .admin-schedule-container {
      padding: 0 1rem;
    }
    
    .schedule-table th, 
    .schedule-table td {
      padding: 0.75rem;
    }
  }

  @media (max-width: 768px) {
    .schedule-header {
      flex-direction: column;
      align-items: flex-start;
    }
    
    .schedule-table {
      min-width: 100%;
    }
    
    .schedule-table thead {
      display: none;
    }

    .schedule-table tr {
      display: block;
      margin-bottom: 1.5rem;
      border: 1px solid var(--medium-gray);
      border-radius: 8px;
      padding: 0;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    }

    .schedule-table td {
      display: flex;
      justify-content: space-between;
      align-items: center;
      text-align: right;
      padding-left: 50%;
      position: relative;
      border-bottom: 1px solid var(--medium-gray);
    }

    .schedule-table td::before {
      content: attr(data-label);
      position: absolute;
      left: 1rem;
      width: 45%;
      font-weight: 500;
      text-align: left;
      color: var(--primary-color);
    }

    .schedule-table td:last-child {
      border-bottom: none;
    }
    
    .actions {
      justify-content: flex-end;
    }
    
    .badge,
    .days-badge,
    .availability {
      margin-left: auto;
    }
  }

  @media (max-width: 480px) {
    .schedule-table td {
      padding-left: 40%;
    }

    .schedule-table td::before {
      width: 35%;
    }
    
    .btn-add {
      width: 100%;
      justify-content: center;
    }
  }
</style>